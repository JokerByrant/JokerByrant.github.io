---
title: 利用nginx搭建静态资源服务器
tags: nginx
categories: 后端技术
abbrlink: 44341
date: 2021-06-28 14:14:27
---

前段时间有个需求，写一个接口，`App`端会定时将错误日志上传到服务器，然后每天早上9点，通过邮件将这些错误日志发送给`App`端的同事。这样做有一个问题，如果有错误日志上传了，`App`端的同事没办法及时的得到反馈。或者如果`App`端的同事想要立刻拿到这个日志，还需要重新到服务器上去捞。
这个问题在去年我就考虑过，每次去看线上环境的错误日志，都需要去服务器上捞日志，如果能将存储日志的文件夹映射为一个链接，访问这个链接就能直接看到文件夹下的文件结构，那就能方便许多。

<!--more-->

当时因为开发任务紧，就将这个想法抛之脑后了，今天在使用`Utools`时，发现了一个工具：`Share`，可以将本机作为一个资源服务器，暴露给外部一个链接，访问这个链接，用户可以下载文件、上传文件，非常方便。
![](https://i.loli.net/2021/06/28/jhG8piTeDW1B79Y.png)

看到这个插件，我就想我也可以为服务器搭建一个类似的资源服务器，这样以后查看日志就方便了。于是一搜，就发现其实已经有现成的轮子了，可以直接利用`nginx`完成搭建。

### 搭建流程
访问 [nginx下载地址](http://nginx.org/en/download.html)，下载稳定版
![](https://i.loli.net/2021/06/28/6Je4hUVjcaTEy8C.png)

解压之后，进到`nginx`目录，启动`nginx`
```cmd
start nginx.exe
```

然后打开目录下的`conf/nginx.conf`文件，进行配置。**务必注意下面图片中的红字提示，被这个坑卡了很久！！**
![](https://i.loli.net/2021/06/28/KWLVUfuANC6IDSa.png)

配置完毕，保存，输入命令使配置生效：
```cmd
./nginx.exe -s reload
```

然后访问链接：localhost/app，就能看到对应的文件目录了
![](https://i.loli.net/2021/06/28/JNFAdrePqp3cWw9.png)

